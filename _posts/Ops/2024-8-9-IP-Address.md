---
layout: post
title: 【Ops】01 IP Address
categories: [Ops, IP]
tags: [Ip Address]
---

## 1 五类IP地址

### 1.1 五类IP地址说明

[国际互联网络信息中心（InterNIC）](https://blog.csdn.net/weixin_33672400/article/details/92923798) 将IP地址分为五类:

- A类：保留给ZF或大型企业，
- B类：分配给中等规模的公司，
- C类：分配给小公司或个人，
- D类：用于组播，
- E类：用于实验，

通过IP地址的引导位(最高位)来区分不同类别的IP地址

> 注：
> - n为网络编号位，h为主机编号位
> - 每个IP地址都包含两部分，即网络号和主机号。

A类地址
- A类地址：0nnnnnnn.hhhhhhhh.hhhhhhhh.hhhhhhhh
- A类地址具有：
  - 7位网络编号，因此可定义126个A类网络{2^7－2(网络编号不能是全0或全1)-1(127为环回地址)}
  - 24位主机编号，每个网络可以拥有的主机数为16777214{2^24-2(主机位不能是全0或全1)}
- 十进制表示范围：1.0.0.1-126.255.255.254,任何一个0到127间的网络地址均是一个A类地址。

B类地址
- B类地址：10nnnnnn.nnnnnnnn.hhhhhhhh.hhhhhhhh
- B类地址具有：
  - 14位网络编号，因此可定义16382个B类网络{2^14-2}
  - 16位主机编号，每个网络可以拥有的主机数为65534{2^16-2}
- 十进制表示范围：129.0.0.1-191.255.255.254,任何一个128到191间的网络地址是一个B类地址。

C类地址
- C类地址：110nnnnn.nnnnnnnn.nnnnnnnn.hhhhhhhh
- C类地址具有：
  - 21位网络编号，因此可定义2097152个C类地址{2^21-2}
  - 8位主机编号，每个网络可以拥有的主机数为254{2^8-2}
- 十进制表示范围：192.0.0.1-223.255.255.254,任何一个192到223间的网络地址是一个C类地址。

D类地址
- D类地址：1110xxxx.xxxxxxxx.xxxxxxxx.xxxxxxxx
- D类地址用于组播，前面4位1110引导，后面28位为组播地址ID。
- 十进制表示范围：224.0.0.0-239.255.255.255

E类地址
- E类地址：总是以1111四位引导
- E类地址用于研究用
- 十进制表示范围：240.0.0.0-247.255.255.255

![01-子网掩码](/assets/images/Ops/IP/01-子网掩码.png)

![02-五类IP](/assets/images/Ops/IP/02-五类IP.png)

![03-特殊3个ip](/assets/images/Ops/IP/03-特殊3个ip.png)

## 2 CIDR

![04-原始分类方法](/assets/images/Ops/IP/04-原始分类方法.png)

> 左边的某些连续位表示网络号，右边的某些连续位表示主机号，

上面这种，五类IP地址的划分方式，是原始的划分方式。

CIDR中已经废弃了IP地址的分类，无分类编址的命名也是由此得来的，所以目前基本已经不再采用所谓的A类、B类、C类的IP地址分类表示法，引入一个额外的子网掩码(subnet mask)来区分网络号和主机号;

![05-CIDR](/assets/images/Ops/IP/05-CIDR.png)

CIDR是一种用于对IP地址进行聚合和分配的方法。在CIDR之前，互联网使用的是基于类别的IP地址分配方案（例如，A类、B类、C类等）。这种分配方案导致了大量的IP地址浪费和不均匀分配。

CIDR的引入打破了基于类别的划分，引入了可变长度子网掩码（VLSM）的概念。CIDR使用前缀长度来表示IP地址的网络部分的位数，这样就可以更加灵活地分配IP地址，并实现对地址空间的高效利用。

CIDR使用一个斜线后跟一个数字来表示前缀长度。例如，192.168.0.0/16表示前16位为网络部分，剩余的位数为主机部分。


## 3 子网掩码

子网掩码(subnet masking)的功能是告知主机或路由设备，地址的哪一部分是网络号，包括子网的网络号部分，哪一部分是主机号部分。

子网掩码使用与IP地址相同的编址格式，即4个8位组的32位长格式。

在子网掩码中，网络部分和子网络部分对应的位全为“1”，主机部分对应的位全为“0”

通过将子网掩码与IP地址进行“与”操作,可提供所给定的IP地址所属的网络号(包括子网络号)

子网掩码也是一个32位的正整数. 通常用一串 “0” 来结尾;将IP地址和子网掩码进行 “按位与” 操作, 得到的结果就是网络号;网络号和主机号的划分与这个IP地址是A类、B类还是C类无关;

> 详细理解子网掩码，见：[IP地址计算---子网掩码确定和子网划分等详解 (附常见相关习题)](https://blog.csdn.net/qq_41207757/article/details/107839099)

| 子网掩码 | 子网掩码十进制表示 | IP总数 | 说明 |
| --- | --- | ---:| --- |
| 32 | 255.255.255.255 | 1 | 可用于A/B/C类地址 |
| 31 | 255.255.255.254 | 2 | 可用于A/B/C类地址 |
| 30 | 255.255.255.252 | 4 | 可用于A/B/C类地址 |
| 29 | 255.255.255.248 | 8 | 可用于A/B/C类地址 |
| 28 | 255.255.255.240 | 16 | 可用于A/B/C类地址 |
| 27 | 255.255.255.224 | 32 | 可用于A/B/C类地址 |
| 26 | 255.255.255.192 | 64 | 可用于A/B/C类地址 |
| 25 | 255.255.255.128 | 128 | 可用于A/B/C类地址 |
| 24 | 255.255.255.0 | 256 | C类地址默认掩码 <br/> 可用于A/B/C类地址 |
| 23 | 255.255.254.0 | 512 | 可用于A/B类地址 |
| 22 | 255.255.252.0 | 1,024 | 可用于A/B类地址 |
| 21 | 255.255.248.0 | 2,048 | 可用于A/B类地址 |
| 20 | 255.255.240.0 | 4,096 | 可用于A/B类地址 |
| 19 | 255.255.224.0 | 8,192 | 可用于A/B类地址 |
| 18 | 255.255.192.0 | 16,384 | 可用于A/B类地址 |
| 17 | 255.255.128.0 | 32,768 | 可用于A/B类地址 |
| 16 | 255.255.0.0 | 65,536 | B类地址默认掩码 <br/> 可用于A/B类地址 |
| 15 | 255.254.0.0 | 131,072 | 可用于A类地址 |
| 14 | 255.252.0.0 | 262,144 | 可用于A类地址 |
| 13 | 255.248.0.0 | 524,288 | 可用于A类地址 |
| 12 | 255.240.0.0 | 1,048,576 | 可用于A类地址 |
| 11 | 255.224.0.0 | 2,097,152 | 可用于A类地址 |
| 10 | 255.192.0.0 | 4,194,304 | 可用于A类地址 |
| 9 | 255.128.0.0 | 8,388,608 | 可用于A类地址 |
| 8 | 255.0.0.0 | 16,777,216 | A类地址默认掩码 <br/> 可用于A类地址 |

## 3 保留地址

[IP地址保留地址](https://en.wikipedia.org/wiki/Reserved_IP_addresses)

### 3.1 常见私网地址

|Address block | Address range | Number of <br/> addresses | Description|
| --- | --- | --- | --- |
|10.0.0.0/8 | 10.0.0.0–10.255.255.255 | 16,777,216 | A类地址 |
|100.64.0.0/10 | 100.64.0.0–100.127.255.255 | 4,194,304 | A类地址 |
|172.16.0.0/12 | 172.16.0.0–172.31.255.255 | 1,048,576 | B类地址 |
|192.0.0.0/24 | 192.0.0.0–192.0.0.255 | 256 | C类地址 |
|192.168.0.0/16 | 192.168.0.0–192.168.255.255 | 65,536 | C类地址 |
|198.18.0.0/15 | 198.18.0.0–198.19.255.255 | 131,072 | C类地址 |

## 4 公网地址

[公网的全部IP地址段](https://blog.csdn.net/u011810659/article/details/134681213)
[IP地址范围（按国家/地区）](https://lite.ip2location.com/ip-address-ranges-by-country)


## 5 公网、内网和NAT

[什么是内网、公网和NAT？读懂这一篇就够！](https://www.51cto.com/article/597260.html)

内网和外网如何连接：

- 内网访问外网：
  - 私网地址的出现，解决了局域网内电脑终端设备的IP问题；
  - NAT技术的出现，使得内网地址可以很方便访问互联网；

- 外网访问内网：
  - 但互联网地址访问内网终端设备很麻烦，想要访问需要做：
    - 端口映射
    - 静态地址映射


## 100 参考文档

- [ip地址分类和网段详解](https://www.cnblogs.com/peteremperor/p/11139969.html)
- [IP地址计算---子网掩码确定和子网划分等详解 (附常见相关习题)](https://blog.csdn.net/qq_41207757/article/details/107839099)